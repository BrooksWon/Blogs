# 枚举

- [枚举语法](http://wiki.jikexueyuan.com/project/swift/chapter2/08_Enumerations.html#enumeration_syntax)
- [使用 Switch 语句匹配枚举值](http://wiki.jikexueyuan.com/project/swift/chapter2/08_Enumerations.html#matching_enumeration_values_with_a_switch_statement)
- [关联值](http://wiki.jikexueyuan.com/project/swift/chapter2/08_Enumerations.html#associated_values)
- [原始值](http://wiki.jikexueyuan.com/project/swift/chapter2/08_Enumerations.html#raw_values)
- [递归枚举](http://wiki.jikexueyuan.com/project/swift/chapter2/08_Enumerations.html#recursive_enumerations)

在 Swift 中，枚举类型是一等（first-class）类型。它们采用了很多在传统上只被类（class）所支持的特性，例如计算属性（computed properties），用于提供枚举值的附加信息，实例方法（instance methods），用于提供和枚举值相关联的功能。枚举也可以定义构造函数（initializers）来提供一个初始值；可以在原始实现的基础上扩展它们的功能；还可以遵循协议（protocols）来提供标准的功能。



- 枚举语法

  ```
  enum SomeEnumeration {
      // 枚举定义放在这里
  }
  ```

- 使用 Switch 语句匹配枚举值

  ```
  
  ```

- 关联值

  ```
  enum Barcode {
      case upc(Int, Int, Int, Int)
      case qrCode(String)
  }
  
  var productBarcode = Barcode.upc(8, 85909, 51226, 3)
  print(productBarcode)
  
  productBarcode = .qrCode("ABCDEFGHIJKLMNOP")
  print(productBarcode)
  
  switch productBarcode {
  case .upc(let numberSystem, let manufacturer, let product, let check):
      print("UPC: \(numberSystem), \(manufacturer), \(product), \(check).")
  case .qrCode(let productCode):
      print("QR code: \(productCode).")
  }
  // 输出 "QR code: ABCDEFGHIJKLMNOP."
  ```

- 原始值

  在使用原始值为整数或者字符串类型的枚举时，不需要显式地为每一个枚举成员设置原始值，Swift 将会自动为你赋值。

  例如，当使用整数作为原始值时，隐式赋值的值依次递增 `1`。如果第一个枚举成员没有设置原始值，其原始值将为 `0`。

  ```
  
  ```

- 递归枚举

  *递归枚举*是一种枚举类型，它有一个或多个枚举成员使用该枚举类型的实例作为关联值。使用递归枚举时，编译器会插入一个间接层。你可以在枚举成员前加上 `indirect` 来表示该成员可递归。

  ```
  enum ArithmeticExpression {
      case number(Int)
      indirect case addition(ArithmeticExpression, ArithmeticExpression)
      indirect case multiplication(ArithmeticExpression, ArithmeticExpression)
  }
  ```

  你也可以在枚举类型开头加上 `indirect` 关键字来表明它的所有成员都是可递归的：

  ```swift
  indirect enum ArithmeticExpression {
      case number(Int)
      case addition(ArithmeticExpression, ArithmeticExpression)
      case multiplication(ArithmeticExpression, ArithmeticExpression)
  }
  
  let five = ArithmeticExpression.number(5)
  let four = ArithmeticExpression.number(4)
  let sum = ArithmeticExpression.addition(five, four)
  let product = ArithmeticExpression.multiplication(sum, ArithmeticExpression.number(2))
  
  //要操作具有递归性质的数据结构，使用递归函数是一种直截了当的方式。例如，下面是一个对算术表达式求值的函数：
  
  func evaluate(_ expression: ArithmeticExpression) -> Int {
      switch expression {
      case let .number(value):
          return value
      case let .addition(left, right):
          return evaluate(left) + evaluate(right)
      case let .multiplication(left, right):
          return evaluate(left) * evaluate(right)
      }
  }
  
  print(evaluate(product))
  // 打印 "18"
  
  ```

  

